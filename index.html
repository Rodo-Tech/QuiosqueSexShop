<html lang="en-US"><head>
    <!-- Google Tag Manager -->
    <script async="" src="https://www.googletagmanager.com/gtm.js?id=GTM-T2Z8LZP"></script><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-T2Z8LZP');</script>
    <!-- End Google Tag Manager -->
    
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>clientes</title>
<meta name="generator" content="Jekyll v3.9.0">
<meta property="og:title" content="clientes">
<meta property="og:locale" content="en_US">
<link rel="canonical" href="http://digital-analytics.zoly.com.br/claronet/claro/minha-claro/documentacao-tecnica/">
<meta property="og:url" content="http://digital-analytics.zoly.com.br/claronet/claro/minha-claro/documentacao-tecnica/">
<meta property="og:site_name" content="clientes">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="clientes">
<script type="application/ld+json">
{"headline":"clientes","url":"http://digital-analytics.zoly.com.br/claronet/claro/minha-claro/documentacao-tecnica/","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=d77aedf4fb7b4e845f730f6a5e50a9fb23057ddb">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      <header>
        
        <p></p>
      </header>

      <section>
      <p><img src="http://lucida-brasil.github.io/public/Images/zoly-logo.png" alt="Zoly"></p>

<blockquote>
  <p>Área - Digital Analytics<br>
Documento de Especificação Técnica - Minha Claro</p>
</blockquote>

<p><br></p>

<h2 id="implementação-da-camada-de-dados">Implementação da Camada de dados</h2>
<p>Última atualização: 05/04/2018 <br>
Em caso de dúvidas, entrar em contato com: <a href="mailto:digitalanalytics@zoly.com.br">digitalanalytics@zoly.com.br</a></p>

<p><br></p>

<h2 id="índice">Índice</h2>
<ul>
  <li><a href="#objetivo">Objetivo</a></li>
  <li><a href="#overview-e-descrições-técnicas">Overview e Descrições Técnicas</a></li>
  <li><a href="#dimensões-globais">Dimensões Globais</a></li>
  <li><a href="#especificação-de-micro-conversões">Especificação de Micro-conversões</a></li>
  <li><a href="#especificação-de-conversões">Especificação de Conversões</a></li>
  <li><a href="#considerações-finais">Considerações Finais</a></li>
</ul>

<p><br></p>

<h2 id="objetivo">Objetivo</h2>
<p>Este documento tem como objetivo instruir a implementação do Google Tag Manager, da camada de dados e de data attributes para utilização de recursos de monitoramento do Google Analytics referentes ao ambiente de https://minhaclaro.claro.com.br.</p>

<p><br></p>

<h2 id="overview-e-descrições-técnicas">Overview e Descrições Técnicas</h2>

<h3 id="camada-de-dados-datalayer">Camada de dados (DataLayer)</h3>

<blockquote>
  <p>É um array de objetos javascript utilizado pelo Google Tag Manager para receber em seus atributos, dados importantes do site.
Para implementar o dataLayer no site, o desenvolvedor pode utilizar formas diferentes para preencher os dados. Essas formas são dependentes da ação estabelecida na documentação e também do nível da interação.</p>
</blockquote>

<p><strong>Instalação</strong><br>
Inserir a camada de dados antes do snippet de instalação do Google Tag Manager. Exemplo:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span>
	<span class="nb">window</span><span class="p">.</span><span class="nx">dataLayer</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">dataLayer</span> <span class="o">||</span> <span class="p">[];</span>
	<span class="nb">window</span><span class="p">.</span><span class="nx">dataLayer</span> <span class="o">=</span> <span class="p">[{</span>
		<span class="dl">'</span><span class="s1">atributo1</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[valor1]]</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">atributo2</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[valor2]]</span><span class="dl">'</span>
	<span class="p">}];</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p>OU</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span>
	<span class="nb">window</span><span class="p">.</span><span class="nx">dataLayer</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">dataLayer</span> <span class="o">||</span> <span class="p">[];</span>
	<span class="nb">window</span><span class="p">.</span><span class="nx">dataLayer</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
		<span class="dl">'</span><span class="s1">atributo1</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[valor1]]</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">atributo2</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[valor2]]</span><span class="dl">'</span>
	<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<h3 id="atributos-html-data-attributes">Atributos HTML (Data Attributes)</h3>

<blockquote>
  <p>São atributos customizados inseridos nos elementos HTML da página que permite a inclusão de dados adicionais.</p>
</blockquote>

<p><strong>Instalação</strong></p>
<ol>
  <li>Elementos de link: <code class="language-plaintext highlighter-rouge">&lt;a href="..." class="minha_classe"&gt;Link&lt;/a&gt;</code> <br>
Elementos do tipo link que foram mapeados, precisam receber a classe <strong>gtm-link-event</strong> e os data attributes em sua estrutura.</li>
</ol>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://www.meudominio.com.br/page2"</span>
	<span class="na">class=</span><span class="s">"minha_classe gtm-link-event"</span>
 	<span class="na">data-gtm-event-category=</span><span class="s">"[[exemplo:valor-categoria]]"</span>
  	<span class="na">data-gtm-event-action=</span><span class="s">"[[exemplo:valor-acao]]"</span>
  	<span class="na">data-gtm-event-label=</span><span class="s">"[[exemplo:valor-rotulo]]"</span><span class="nt">&gt;</span>Texto do link<span class="nt">&lt;/a&gt;</span>
</code></pre></div></div>

<ol>
  <li>Elementos comuns: <code class="language-plaintext highlighter-rouge">&lt;div class="minha_classe"&gt;Elemento&lt;/div&gt;</code> <br>
Todos os elementos comuns do html que não são links e que foram mapeados, precisam receber a classe <strong>gtm-element-event</strong> em sua estrutura.</li>
</ol>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> 	<span class="na">class=</span><span class="s">"minha_classe gtm-element-event"</span>
  	<span class="na">data-gtm-event-category=</span><span class="s">"[[exemplo:valor-categoria]]"</span>
 	<span class="na">data-gtm-event-action=</span><span class="s">"[[exemplo:valor-acao]]"</span>
 	<span class="na">data-gtm-event-label=</span><span class="s">"[[exemplo:valor-rotulo]]"</span><span class="nt">&gt;</span>Texto do elemento<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<h4 id="importante">Importante:</h4>
<blockquote>
  <p>Todos os links e botões citados nesta documentação devem ter em sua estrutura <code class="language-plaintext highlighter-rouge">html</code> a classe <code class="language-plaintext highlighter-rouge">gtm-link-event</code> se for um link <code class="language-plaintext highlighter-rouge">&lt;a&gt;</code> ou <code class="language-plaintext highlighter-rouge">gtm-element-event</code> se o elemento não for um link <code class="language-plaintext highlighter-rouge">&lt;a&gt;</code> conforme demonstraremos nos exemplos específicos.<br></p>
</blockquote>

<blockquote>
  <p>Devem ter também os data-attributes <code class="language-plaintext highlighter-rouge">data-gtm-event-category</code>, <code class="language-plaintext highlighter-rouge">data-gtm-event-action</code> e <code class="language-plaintext highlighter-rouge">data-gtm-event-label</code> preenchidos conforme instruções específicas.</p>
</blockquote>

<p><br></p>

<h2 id="implementação">Implementação</h2>

<p>A documentação foi descrita para algumas áreas especificas do ambiente minhaclaro.claro.com.br.</p>

<h3 id="especificações-globais">Especificações Globais:</h3>

<p><strong>Itens Gerais:</strong><br>
Todas as informações entre colchetes <code class="language-plaintext highlighter-rouge">[[  ]]</code> são variáveis dinâmicas que devem ser preenchidas com seus respectivos valores; <br>
Todos os valores enviados ao Google Analytics devem estar sanitizados, ou seja, sem espaços, acentuação ou caracteres especiais; <br>
Caso a informação solicitada não estiver disponível retornar ‘nao_disponivel’. - Mudar de acordo com o projeto</p>

<h3 id="dimensões-globais">Dimensões Globais:</h3>

<p><strong>Dimensões Customizadas para todas as páginas:</strong><br>
Deve ser disparado um push de dataLayer no momento de carregamento de todas as páginas do site (Considerar também todas as trocas de Path, quando o conteúdo da página é alterado mas a página não recarrega).<br></p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span>
	<span class="nb">window</span><span class="p">.</span><span class="nx">dataLayer</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">dataLayer</span> <span class="o">||</span> <span class="p">[];</span>
	<span class="nx">dataLayer</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
		<span class="dl">'</span><span class="s1">dimension1</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[UserID]]</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">dimension2</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[Tipo Usuario]]</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">dimension3</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[Tipo Plano]]</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">dimension4</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[breadcrumb]]</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">dimension5</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[URL Original]]</span><span class="dl">'</span>
	<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Variável</th>
      <th style="text-align: left">Exemplo</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">[[UserID]]</td>
      <td style="text-align: left">‘qwe987654asd’</td>
      <td style="text-align: left">Id único de identificação por usuário</td>
    </tr>
    <tr>
      <td style="text-align: left">[[Tipo Usuario]]</td>
      <td style="text-align: left">‘Pre’, ‘Controle’ ou ‘Pos’</td>
      <td style="text-align: left">O tipo do usuário, se é pré, cotrole ou pós</td>
    </tr>
    <tr>
      <td style="text-align: left">[[Tipo Plano]]</td>
      <td style="text-align: left">‘Pre xx’, ‘Controle 4GB xx’ e etc</td>
      <td style="text-align: left">Tipo de plano de assinatura ou contratação do usuário</td>
    </tr>
    <tr>
      <td style="text-align: left">[[breadcrum]]</td>
      <td style="text-align: left">‘minha-claro/recarga’</td>
      <td style="text-align: left">URL amigável</td>
    </tr>
    <tr>
      <td style="text-align: left">[[URL Original]]</td>
      <td style="text-align: left">‘/mcpf_v7_0_37/index.html#.html/recarga####’</td>
      <td style="text-align: left">URL original, completa</td>
    </tr>
  </tbody>
</table>

<hr>

<h3 id="especificação-de-micro-conversões">Especificação de Micro-conversões:</h3>

<p><strong>1 - Clique Entrar - Tentativa de Login:</strong><br></p>

<ul>
  <li><strong>Quando:</strong> Ao clicar em “entrar” ;</li>
  <li><strong>Onde:</strong> Na área de login;</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- Use se o elemento for um link --&gt;</span>
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span>
	<span class="na">class=</span><span class="s">"gtm-link-event"</span>
	<span class="na">data-gtm-event-category=</span><span class="s">"claro:minha-claro:geral:desktop"</span>
	<span class="na">data-gtm-event-action=</span><span class="s">"clique:entrar"</span>
	<span class="na">data-gtm-event-label=</span><span class="s">"login:tetativa"</span>
<span class="nt">&gt;</span>Link<span class="nt">&lt;/a&gt;</span>

<span class="c">&lt;!-- Use se o elemento não for um link --&gt;</span>
<span class="nt">&lt;i</span> 	<span class="na">class=</span><span class="s">"gtm-element-event"</span>
	<span class="na">data-gtm-event-category=</span><span class="s">"claro:minha-claro:geral:desktop"</span>
	<span class="na">data-gtm-event-action=</span><span class="s">"clique:entrar"</span>
	<span class="na">data-gtm-event-label=</span><span class="s">"login:tetativa"</span>
<span class="nt">&gt;</span>Botão<span class="nt">&lt;/i&gt;</span>
</code></pre></div></div>

<p><br></p>

<p><strong>2 - Sucesso Login:</strong><br></p>

<ul>
  <li><strong>Quando:</strong> No Callback de sucesso no login;</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span>
	<span class="nx">dataLayer</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
		<span class="dl">'</span><span class="s1">event</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">login</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">eventCategory</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">claro:minha-claro:desktop</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">eventAction</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">login:sucesso</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">eventLabel</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">minha-claro</span><span class="dl">'</span>
	<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p><br></p>

<p><strong>3 - Erro na tentativa de Login:</strong><br></p>

<ul>
  <li><strong>Quando:</strong> No callback de erro, em casa do de insucesso de login;</li>
  <li><strong>Onde:</strong> Na área de Login;</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span>
	<span class="nx">dataLayer</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
		<span class="dl">'</span><span class="s1">event</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">event</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">eventCategory</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">claro:minha-claro:desktop</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">eventAction</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">login:erro</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">eventLabel</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">minha-claro</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">dimension6</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[cod-Erro]]</span><span class="dl">'</span>
	<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p><br></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Variável</th>
      <th style="text-align: left">Exemplo</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">[[cod-Erro]]</td>
      <td style="text-align: left">‘404’ ou ‘123456’</td>
      <td style="text-align: left">Código ou ID do erro. Disparar sómente erro de ação do usuário</td>
    </tr>
  </tbody>
</table>

<p><br></p>

<p><strong>4 - Clique no Menu/sub-menu:</strong><br></p>

<ul>
  <li><strong>Quando:</strong> Ao clicar nos itens do menu;</li>
  <li><strong>Onde:</strong> No menu e/ou sub-menu, dentro da área logada;</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- Use se o elemento for um link --&gt;</span>
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span>
	<span class="na">class=</span><span class="s">"gtm-link-event"</span>
	<span class="na">data-gtm-event-category=</span><span class="s">"claro:minha-claro:desktop"</span>
	<span class="na">data-gtm-event-action=</span><span class="s">"clique:menu"</span>
	<span class="na">data-gtm-event-label=</span><span class="s">"menu:[[item menu]]"</span>
<span class="nt">&gt;</span>Link<span class="nt">&lt;/a&gt;</span>

<span class="c">&lt;!-- Use se o elemento não for um link --&gt;</span>
<span class="nt">&lt;i</span> 	<span class="na">class=</span><span class="s">"gtm-element-event"</span>
	<span class="na">data-gtm-event-category=</span><span class="s">"claro:minha-claro:desktop"</span>
	<span class="na">data-gtm-event-action=</span><span class="s">"clique:menu"</span>
	<span class="na">data-gtm-event-label=</span><span class="s">"menu:[[item menu]]"</span>
<span class="nt">&gt;</span>Botão<span class="nt">&lt;/i&gt;</span>
</code></pre></div></div>

<p><br></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Variável</th>
      <th style="text-align: left">Exemplo</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">[[item menu]]</td>
      <td style="text-align: left">‘Recarga’, ‘Historico de Recarga’, ‘Servicos’ e etc</td>
      <td style="text-align: left">Texto do item clicado</td>
    </tr>
  </tbody>
</table>

<p><br></p>

<p><strong>5 - Clique autoatendimento:</strong><br></p>

<ul>
  <li><strong>Quando:</strong> Ao clicar nos itens de autoatendimento;</li>
  <li><strong>Onde:</strong> Área logada de autoatendimento em Minha Claro;</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- Use se o elemento for um link --&gt;</span>
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span>
	<span class="na">class=</span><span class="s">"gtm-link-event"</span>
	<span class="na">data-gtm-event-category=</span><span class="s">"claro:minha-claro:desktop"</span>
	<span class="na">data-gtm-event-action=</span><span class="s">"clique:autoatendimento:[[categoria-autoatendimento]]"</span>
	<span class="na">data-gtm-event-label=</span><span class="s">"[[nome-autoatendimento]]:[[subtipo-autoatendimento]]"</span>
<span class="nt">&gt;</span>Link<span class="nt">&lt;/a&gt;</span>

<span class="c">&lt;!-- Use se o elemento não for um link --&gt;</span>
<span class="nt">&lt;i</span> 	<span class="na">class=</span><span class="s">"gtm-element-event"</span>
	<span class="na">data-gtm-event-category=</span><span class="s">"claro:minha-claro:desktop"</span>
	<span class="na">data-gtm-event-action=</span><span class="s">"clique:autoatendimento:[[categoria-autoatendimento]]"</span>
	<span class="na">data-gtm-event-label=</span><span class="s">"[[nome-autoatendimento]]:[[subtipo-autoatendimento]]"</span>
<span class="nt">&gt;</span>Botão<span class="nt">&lt;/i&gt;</span>
</code></pre></div></div>

<p><br></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Variável</th>
      <th style="text-align: left">Exemplo</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">[[categoria-autoatendimento]]</td>
      <td style="text-align: left">‘base’</td>
      <td style="text-align: left">Categoria do autoatendimento escolhido, usar como referência a coluna B do documento <a href="https://docs.google.com/spreadsheets/d/179m_R_HSEn4pm1u0TZkGOEJ304ioLwzGmMKDdXe7nIs/edit#gid=2066059443">Lista de Autoatendimentos</a></td>
    </tr>
    <tr>
      <td style="text-align: left">[[nome-autoatendimento]]</td>
      <td style="text-align: left">‘consumo-faturado’</td>
      <td style="text-align: left">Nome do autoatendimento escolhido, usar como referência a coluna C do documento <a href="https://docs.google.com/spreadsheets/d/179m_R_HSEn4pm1u0TZkGOEJ304ioLwzGmMKDdXe7nIs/edit#gid=2066059443">Lista de Autoatendimentos</a></td>
    </tr>
    <tr>
      <td style="text-align: left">[[subtipo-autoatendimento]]</td>
      <td style="text-align: left">‘detalhado’</td>
      <td style="text-align: left">Subtipo do autoatendimento escolhido, usar como referência a coluna D do documento <a href="https://docs.google.com/spreadsheets/d/179m_R_HSEn4pm1u0TZkGOEJ304ioLwzGmMKDdXe7nIs/edit#gid=2066059443">Lista de Autoatendimentos</a></td>
    </tr>
  </tbody>
</table>

<p><br></p>

<p><strong>6 - Clique em Comprar(pacotes), Recarregar, Assinar:</strong><br></p>

<ul>
  <li><strong>Quando:</strong> Ao clicar em comprar/recarregar/assinar;</li>
  <li><strong>Onde:</strong> Na área logada, nos conteúdos com ofertas;</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span>
	<span class="nx">dataLayer</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
		<span class="dl">'</span><span class="s1">event</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">event</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">eventCategory</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">claro:minha-claro:desktop</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">eventAction</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">clique:comprar</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">eventLabel</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">comprar:[[tipo compra]]</span><span class="dl">'</span>
	<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p><br></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Variável</th>
      <th style="text-align: left">Exemplo</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">[[tipo compra]]]</td>
      <td style="text-align: left">‘compra de pacotes’, ‘recarga’ ou ‘assinatura’</td>
      <td style="text-align: left">Retornar o tipo de compra que o usuário está tentando concretizar</td>
    </tr>
  </tbody>
</table>

<p><br></p>

<p><strong>7 - Compra, Recarga e Assinatura:</strong><br></p>

<ul>
  <li><strong>Quando:</strong> No callback da tentativa de compra/recarga/assinatura - Sucesso ou Erro;</li>
  <li><strong>Onde:</strong> Na área de assinatura, recarga e compra de pacotes</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span>
	<span class="nx">dataLayer</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
		<span class="dl">'</span><span class="s1">event</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">event</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">eventCategory</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">claro:minha-claro:desktop</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">eventAction</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">clique:comprar</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">eventLabel</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">tentativa:[[sucesso ou erro]]</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">dimension7</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[categoria-compra]]</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">dimension8</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[nomeProduto]]</span><span class="dl">'</span>
	<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p><br></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Variável</th>
      <th style="text-align: left">Exemplo</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">[[sucesso ou erro]]]</td>
      <td style="text-align: left">‘sucesso’ ou ‘erro’</td>
      <td style="text-align: left">Retornar o callback da ação de compra</td>
    </tr>
    <tr>
      <td style="text-align: left">[[categoria-compra]]]</td>
      <td style="text-align: left">‘Pacote’, ‘Recarga’ ou ‘Plano’</td>
      <td style="text-align: left">Identifica o tipo de compra que foi feita</td>
    </tr>
    <tr>
      <td style="text-align: left">[[nomeProduto]]]</td>
      <td style="text-align: left">‘“Internet Pacote 5GB”, “Controle 2GB” e etc.’</td>
      <td style="text-align: left">Identifica quando o usuário compra algum plano ou pacote específico</td>
    </tr>
  </tbody>
</table>

<p><br></p>

<hr>

<h3 id="especificação-de-conversões">Especificação de Conversões:</h3>

<p><strong>7.1 - Confirmação Compra, Recarga e Assinatura - Ecommerce:</strong><br></p>

<ul>
  <li><strong>Quando:</strong> No callback de sucesso de compra/recarga/assinatura - Purchase</li>
  <li><strong>Onde:</strong> Na área de assinatura, recarga e compra de pacotes</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span>
<span class="nx">dataLayer</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
	<span class="dl">'</span><span class="s1">event</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">purchase</span><span class="dl">'</span><span class="p">,</span>
	<span class="dl">'</span><span class="s1">eventCategory</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">claro:minha-claro:ecommerce</span><span class="dl">'</span><span class="p">,</span>
	<span class="dl">'</span><span class="s1">eventAction</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">sucesso:compra</span><span class="dl">'</span><span class="p">,</span>
	<span class="dl">'</span><span class="s1">eventLabel</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[tipo compra]]</span><span class="dl">'</span><span class="p">,</span>
	<span class="dl">'</span><span class="s1">ecommerce</span><span class="dl">'</span><span class="p">:</span> <span class="p">{</span>
		<span class="dl">'</span><span class="s1">purchase</span><span class="dl">'</span><span class="p">:</span> <span class="p">{</span>
			<span class="dl">'</span><span class="s1">actionField</span><span class="dl">'</span><span class="p">:</span> <span class="p">{</span>
				<span class="dl">'</span><span class="s1">id</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[id-transacao]]</span><span class="dl">'</span><span class="p">,</span>				<span class="c1">//ID da transação é obrigatório</span>
				<span class="dl">'</span><span class="s1">revenue</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[valor-total-transacao]]</span><span class="dl">'</span>
			<span class="p">},</span>
			<span class="dl">'</span><span class="s1">products</span><span class="dl">'</span><span class="p">:</span> <span class="p">[{</span>
				<span class="dl">'</span><span class="s1">name</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[nome-produto]]</span><span class="dl">'</span><span class="p">,</span>				<span class="c1">//Nome ou ID do produto é obrigatório</span>
				<span class="dl">'</span><span class="s1">id</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[id-produto]]</span><span class="dl">'</span><span class="p">,</span>
				<span class="dl">'</span><span class="s1">price</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[preco-produto]]</span><span class="dl">'</span><span class="p">,</span>
				<span class="dl">'</span><span class="s1">category</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[categoria-produto]]</span><span class="dl">'</span>
				<span class="dl">'</span><span class="s1">coupon</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[cupom-produto]]</span><span class="dl">'</span>		<span class="c1">//Em caso de Recarga</span>
			<span class="p">}]</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p><em>Variável “eventLabel”</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Variável</th>
      <th style="text-align: left">Exemplo</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">[[tipo compra]]]</td>
      <td style="text-align: left">‘compra de pacotes’, ‘recarga’ ou ‘assinatura’</td>
      <td style="text-align: left">Retornar o tipo de compra que o usuário está tentando concretizar</td>
    </tr>
  </tbody>
</table>

<p><em>Descrição Purchase:</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Nome</th>
      <th style="text-align: left">Variável</th>
      <th style="text-align: left">Exemplo</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">id</td>
      <td style="text-align: left">[[id-transacao]]</td>
      <td style="text-align: left">‘t-786545s’</td>
      <td style="text-align: left">ID da Transação</td>
    </tr>
    <tr>
      <td style="text-align: left">revenue</td>
      <td style="text-align: left">[[valor-total-transacao]]</td>
      <td style="text-align: left">‘256.80’</td>
      <td style="text-align: left">Valor total da transação</td>
    </tr>
  </tbody>
</table>

<p><br></p>

<p><em>Descrição Produtos:</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Nome</th>
      <th style="text-align: left">Variável</th>
      <th style="text-align: left">Exemplo</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">name</td>
      <td style="text-align: left">[[nome-produto]]</td>
      <td style="text-align: left">‘Recarga 30,00’</td>
      <td style="text-align: left">Nome do produto</td>
    </tr>
    <tr>
      <td style="text-align: left">id</td>
      <td style="text-align: left">[[id-produto]]</td>
      <td style="text-align: left">‘recarga-abc1234’</td>
      <td style="text-align: left">ID do produto</td>
    </tr>
    <tr>
      <td style="text-align: left">price</td>
      <td style="text-align: left">[[preco-produto]]</td>
      <td style="text-align: left">‘30.00’</td>
      <td style="text-align: left">Preço do produto</td>
    </tr>
    <tr>
      <td style="text-align: left">category</td>
      <td style="text-align: left">[[categoria-produto]]</td>
      <td style="text-align: left">‘Recarga’</td>
      <td style="text-align: left">Categoria do produto</td>
    </tr>
    <tr>
      <td style="text-align: left">coupon</td>
      <td style="text-align: left">[[cupom-produto]]</td>
      <td style="text-align: left">‘Recarga Facil XX’</td>
      <td style="text-align: left">Cupom de desconto usado no produto</td>
    </tr>
  </tbody>
</table>

<p><br></p>

<p><strong>8 - Sucesso de Autoatendimento:</strong><br></p>

<ul>
  <li><strong>Quando:</strong> Callback de sucesso na realização do autoatendimento.;</li>
  <li><strong>Onde:</strong> Na área logada de atendimento;</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span>
	<span class="nx">dataLayer</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
		<span class="dl">'</span><span class="s1">event</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">event</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">eventCategory</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">claro:minha-claro:desktop</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">eventAction</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">sucesso:autoatendimento:[[categoria-autoatendimento]]</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">eventLabel</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[[nome-autoatendimento]]:[[subtipo-autoatendimento]]</span><span class="dl">'</span>
	<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p><br></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Variável</th>
      <th style="text-align: left">Exemplo</th>
      <th style="text-align: left">Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">[[categoria-autoatendimento]]</td>
      <td style="text-align: left">‘base’</td>
      <td style="text-align: left">Categoria do autoatendimento escolhido, usar como referência a coluna B do documento <a href="https://docs.google.com/spreadsheets/d/179m_R_HSEn4pm1u0TZkGOEJ304ioLwzGmMKDdXe7nIs/edit#gid=2066059443">Lista de Autoatendimentos</a></td>
    </tr>
    <tr>
      <td style="text-align: left">[[nome-autoatendimento]]</td>
      <td style="text-align: left">‘consumo-faturado’</td>
      <td style="text-align: left">Nome do autoatendimento escolhido, usar como referência a coluna C do documento <a href="https://docs.google.com/spreadsheets/d/179m_R_HSEn4pm1u0TZkGOEJ304ioLwzGmMKDdXe7nIs/edit#gid=2066059443">Lista de Autoatendimentos</a></td>
    </tr>
    <tr>
      <td style="text-align: left">[[subtipo-autoatendimento]]</td>
      <td style="text-align: left">‘detalhado’</td>
      <td style="text-align: left">Subtipo do autoatendimento escolhido, usar como referência a coluna D do documento <a href="https://docs.google.com/spreadsheets/d/179m_R_HSEn4pm1u0TZkGOEJ304ioLwzGmMKDdXe7nIs/edit#gid=2066059443">Lista de Autoatendimentos</a></td>
    </tr>
  </tbody>
</table>

<p><br></p>

<hr>

<h2 id="considerações-finais">Considerações Finais:</h2>

<blockquote>
  <p>Link de referência: <a href="https://developers.google.com/tag-manager/quickstart">Documentação Oficial Google Tag Manager</a></p>
</blockquote>

<blockquote>
  <p>Em caso de dúvidas, entrar em contato com: <a href="mailto:digitalanalytics@zoly.com.br">digitalanalytics@zoly.com.br</a></p>
</blockquote>

      </section>
    </div>
    <script src="/assets/js/scale.fix.js"></script>
  
</body></html>
